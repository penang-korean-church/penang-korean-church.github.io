<!DOCTYPE html>
<html lang="{{ site.lang | default: 'ko' }}">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <!-- Primary Meta Tags -->
  <title>{% if page.title %}{{ page.title }} | {% endif %}{{ site.title }}</title>
  <meta name="title" content="{% if page.title %}{{ page.title }} | {% endif %}{{ site.title }}">
  <meta name="description" content="{{ page.description | default: site.description }}">
  <meta name="keywords" content="{{ page.keywords | default: site.keywords }}">
  <meta name="author" content="{{ site.author }}">
  <meta name="language" content="{{ site.lang | default: 'ko' }}">
  <link rel="canonical" href="{{ page.url | absolute_url }}">

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="{{ page.url | absolute_url }}">
  <meta property="og:title" content="{% if page.title %}{{ page.title }} | {% endif %}{{ site.title }}">
  <meta property="og:description" content="{{ page.description | default: site.description }}">
  <meta property="og:site_name" content="{{ site.title }}">
  <meta property="og:locale" content="{{ site.locale | default: 'ko_KR' }}">

  <!-- Twitter -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:url" content="{{ page.url | absolute_url }}">
  <meta name="twitter:title" content="{% if page.title %}{{ page.title }} | {% endif %}{{ site.title }}">
  <meta name="twitter:description" content="{{ page.description | default: site.description }}">

  <!-- Local Business Structured Data (JSON-LD) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Church",
    "name": "{{ site.church.name }}",
    "alternateName": "{{ site.church.name_en }}",
    "url": "{{ site.url }}",
    "address": {
      "@type": "PostalAddress",
      "streetAddress": "{{ site.church.address }}",
      "addressLocality": "Penang",
      "addressCountry": "MY"
    },
    "geo": {
      "@type": "GeoCoordinates",
      "latitude": {{ site.church.latitude }},
      "longitude": {{ site.church.longitude }}
    },
    "telephone": "{{ site.church.phone }}",
    "email": "{{ site.church.email }}",
    "foundingDate": "{{ site.established }}",
    "description": "{{ site.description }}"
  }
  </script>

  <!-- RSS Feed -->
  <link rel="alternate" type="application/rss+xml" title="{{ site.title }}" href="{{ '/feed.xml' | absolute_url }}">

  <!-- Additional SEO -->
  <meta name="robots" content="index, follow">
  <meta name="googlebot" content="index, follow">
  <meta name="revisit-after" content="7 days">

  <link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}">
</head>
<body>
  {% include header.html %}

  <main class="site-main">
    {{ content }}
  </main>

  {% include footer.html %}
</body>
</html>
